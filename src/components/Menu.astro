---
import { useTranslations } from "../i18n/utils"
import Footer from "./Footer.astro"
import Globe from "./Globe.astro"
import Language from "./LanguageMenu.astro"

const lang = Astro.params.language
const t = useTranslations(lang)
---

<aside
  id="menu-container"
  class="pointer-events-none fixed bottom-0 left-0 right-0 top-0 z-30 flex flex-col items-center justify-center bg-blurred opacity-0 backdrop-blur-sm transition-opacity duration-500 sm:hidden"
  onclick="toggleMenu()"
>
  <div id="menu" class="z-[60] font-heming text-2xl [&>ul>li]:mb-5">
    <ul class="flex flex-col items-center">
      <li class="!hidden" id="home-link">
        <a class="underlined" href={"/" + lang + "#hero"}>{t("Home")}</a>
      </li>
      <li>
        <a class="underlined" href={"/" + lang + "#projects"}>{t("Projects")}</a>
      </li>
      <li>
        <a class="underlined" href={"/" + lang + "#contact"}>{t("Contact")}</a>
      </li>
      <li>
        <a class="underlined" href={"/" + lang + "/blog"}>{t("Blog")}</a>
      </li>
      <li>
        <a class="flex items-center gap-2" target="_blank" href="https://github.com/ferranJS/portfolio">
          <i class="devicon-github-plain mb-0.5"></i>
          {t("Github")}
        </a>
      </li>
      <li>
        <button onclick="toggleLanguageMenu(event.stopPropagation())" class="flex items-center gap-2">
          <Globe />
          <span>{t("Language")}</span>
        </button>
      </li>
      <li>
        <button onclick="toggleDarkMode(event.stopPropagation())" class="flex items-center gap-2">
          <div class="themeToggle mb-[5px] h-5 w-5"></div>
          <span>{t("Theme")}</span>
        </button>
      </li>
    </ul>
  </div>
  <Footer Classes=" fixed bottom-0 right-0 left-0 !flex-row" />
</aside>
<Language />
