---
import { getLangFromUrl, useTranslations } from "../i18n/utils"
import Menu from "./Menu.astro"

const lang = getLangFromUrl(Astro.url)
const t = useTranslations(lang)
---

<header class="fixed left-0 right-0 top-0 z-40 p-4 pr-5 font-heming text-lg sm:bg-white/40 sm:pr-7">
  <nav>
    <div class="visible flex justify-end sm:hidden" id="menu-button">
      <button
        id="menu-button"
        class="group z-50 flex flex-col items-end"
        onclick="toggleMenu(event.stopPropagation())"
      >
        <span class="m-1 block h-[2.5px] w-9 bg-indigo-400 duration-500 ease-in-out"></span>
        <span class="m-1 block h-[2.5px] w-9 bg-indigo-300"></span>
        <span class="m-1 block h-[2.5px] w-9 bg-indigo-200 duration-500 ease-in-out"></span>
      </button>
    </div>
    <ul class="hidden justify-end gap-5 sm:flex">
      <li>
        <a class="underlined" href="/">{t("Home")}</a>
      </li>
      <li>
        <a class="underlined" href="#projects">{t("Projects")}</a>
      </li>
      <li>
        <a class="underlined" href="#contact">{t("Contact")}</a>
      </li>
      <li>
        <a class="underlined" target="_blank" href="https://github.com/ferranJS/portfolio">{t("Github")}</a>
      </li>
      <li>
        <button onclick="toggleLanguageMenu(event.stopPropagation())">
          <img src="/globe.svg" class="h-6 w-5 duration-200 hover:scale-110" alt="globe language icon" />
        </button>
      </li>
    </ul>
  </nav>
</header>
<Menu />
